<div class="container">
    <div class="row mt-5">
        <div class="col-md-5 ps-5">
            <img class="image-fluid" src="{{product.image}}" alt="{{product.name}}" style="margin-left: 100px; height: 500px">
        </div>
        <div class="col-md-6 pe-5">
            <h1 class="text-right">{{product.name}}</h1>
            <div class="d-flex align-items-center">
                <hr class="w-100">
                <img src="https://res.cloudinary.com/crunchbase-production/image/upload/c_lpad,h_256,w_256,f_auto,q_auto:eco,dpr_1/ajracsdqu5gmyfl6nai0"
                    alt="" width="100px">
            </div>
            <div class="d-flex flex-column justify-content-center align-items-center" style="height: 300px;">
                <p style="font-size: 50px; font-weight: bold">
                    <span class="text-danger">{{product.price}} €</span>
                </p>
                <p class="fs-4">Precio unidad sin serigrafia</p>
                <p class="fs-5">IVA incluido</p>
                <form action="/carrito" method="POST">
                    <input type="text" value="{{product._id}}" name="productId" hidden readonly>
                    <button class="btn btn-primary" type="submit">Añadir al Carrito</button>
                </form>
            </div>
            <hr>
            <p class="fs-5">
                <span class="fw-bold">Descripción:</span>
                <span>{{product.description}}</span>
            </p>
        </div>
    </div>

    <div>
        <hr>
        {{#if ratings}}
        <p class="fs-3 mt-5 fw-bold">Principales reseñas de España</p>
        {{/if}}
        {{#each ratings}}
     
        <div class="d-flex">
            <div class="rating" data-rating={{rating}}></div>
            <h2 class="fs-4 ms-5">{{user.username}}</h2>
        </div>
        <p class="fs-5">{{comment}}</p>
        <hr>
        {{/each}}
    </div>

    {{#if isUser}}
    <form action="/producto/{{product.id}}" method="POST">
        <p class="fs-3 mt-5 fw-bold">Valora este producto</p>
        <div class="mb-3">
            <textarea class="form-control" name="comment" id="comment" rows="10"></textarea>
        </div>
        <div class="d-flex justify-content-between align-items-center">
            <div>
                <input id="input-id" name="rating" type="text" class="rating" step="1" min="0" max="5">
                <div id="rating"></div>
            </div>
            <button type="submit" class="ms-auto btn btn-primary">Guardar</button>
        </div>
    </form>
    {{/if}}
</div>


<link href="https://cdn.jsdelivr.net/gh/kartik-v/bootstrap-star-rating@4.1.0/css/star-rating.min.css" media="all"
    rel="stylesheet" type="text/css" />

<!-- with v4.1.0 Krajee SVG theme is used as default (and must be loaded as below) - include any of the other theme CSS files as mentioned below (and change the theme property of the plugin) -->
<link href="https://cdn.jsdelivr.net/gh/kartik-v/bootstrap-star-rating@4.1.0/themes/krajee-svg/theme.css" media="all"
    rel="stylesheet" type="text/css" />


<script src="/js/rating.js"></script>

<!-- important mandatory libraries -->
<script src="https://code.jquery.com/jquery-3.5.1.min.js"></script>
<script src="https://cdn.jsdelivr.net/gh/kartik-v/bootstrap-star-rating@4.1.0/js/star-rating.min.js"
    type="text/javascript"></script>

<!-- with v4.1.0 Krajee SVG theme is used as default (and must be loaded as below) - include any of the other theme JS files as mentioned below (and change the theme property of the plugin) -->
<script src="https://cdn.jsdelivr.net/gh/kartik-v/bootstrap-star-rating@4.1.0/themes/krajee-svg/theme.js"></script>

<!-- optionally if you need translation for your language then include locale file as mentioned below (replace LANG.js with your own locale file) -->
<script src="https://cdn.jsdelivr.net/gh/kartik-v/bootstrap-star-rating@4.1.0/js/locales/LANG.js"></script>

<script>
    $("#input-id").rating({ min: 1, max: 5, step: 1, size: 'xs' });
</script>

<style>
    .rating-container .clear-rating.clear-rating-active {
        display: none;
    }

    .rating-container .caption {
        display: none !important;
    }
</style>
